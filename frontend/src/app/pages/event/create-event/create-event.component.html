<div class="d-flex justify-content-center align-items-center vh-100">
  <div class="card shadow p-4" style="width: 500px;">
    <h2 class="text-center mb-4">Crear Nuevo Evento</h2>
    <form [formGroup]="form" (ngSubmit)="submit()">
      <div class="mb-3">
        <label for="name" class="form-label">Nombre del evento</label>
        <input type="text" id="name" class="form-control" formControlName="name" placeholder="Ej: Clase de Salsa" />
        <div *ngIf="form.get('name')?.invalid && form.get('name')?.touched" class="text-danger">
          El nombre es obligatorio.
        </div>
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Descripción</label>
        <textarea id="description" class="form-control" formControlName="description" rows="3" placeholder="Opcional..."></textarea>
      </div>

      <div class="mb-3">
        <label for="dateTime" class="form-label">Fecha y hora</label>
        <input type="datetime-local" id="dateTime" class="form-control" formControlName="dateTime" />
        <div *ngIf="form.get('dateTime')?.invalid && form.get('dateTime')?.touched" class="text-danger">
          La fecha y hora son obligatorias.
        </div>
      </div>

      <div class="mb-3">
        <label for="location" class="form-label">Lugar</label>
        <input type="text" id="location" class="form-control" formControlName="location" placeholder="Ej: Salón Central" />
      </div>

      <div class="mb-3">
        <label for="address" class="form-label">Dirección</label>
        <input type="text" id="address" class="form-control" formControlName="address" placeholder="Ej: Av. Siempre Viva 123" />
      </div>

      <div class="row">
        <div class="col-md-4 mb-3">
          <label for="capacity" class="form-label">Capacidad</label>
          <input type="number" id="capacity" class="form-control" formControlName="capacity" min="0" />
        </div>

        <div class="col-md-4 mb-3">
          <label for="price" class="form-label">Precio</label>
          <input type="number" id="price" class="form-control" formControlName="price" min="0" step="0.01" />
        </div>

        <div class="col-md-4 mb-3">
          <label for="eventType" class="form-label">Tipo de evento</label>
          <select id="eventType" class="form-select" formControlName="eventType">
            <option value="CLASE">Clase</option>
            <option value="COMPETENCIA">Baile Libre</option>
            <option value="FESTIVAL">Exhibición</option>
          </select>
        </div>
      </div>

      <div class="mb-3">
        <label for="additionalInfo" class="form-label">Información adicional</label>
        <textarea id="additionalInfo" class="form-control" formControlName="additionalInfo" rows="2" placeholder="Información adicional..."></textarea>
      </div>

      <div class="mb-3">
        <label class="form-label">Estilos de Baile</label>

        <div class="input-group mb-2">
          <select #styleSelect class="form-select">
            <option value="">-- Seleccionar estilo --</option>
            <option *ngFor="let style of availableDanceStyles" [value]="style" [disabled]="selectedStyles.includes(style)">
              {{ style }}
            </option>
          </select>
          <button type="button" class="btn btn-dark" (click)="addDanceStyle(styleSelect.value); styleSelect.value=''">
            <i class="bi bi-plus-lg"></i> Agregar
          </button>
        </div>

        <div class="selected-styles mt-2">
          <div *ngFor="let style of selectedStyles; let i = index" class="badge bg-dark p-2 me-2 mb-2 text-white">
            {{ style }}
            <button type="button" class="btn-close btn-close-white ms-2" aria-label="Eliminar" (click)="removeDanceStyle(i)"></button>
          </div>
        </div>

        <input type="hidden" formControlName="danceStyles">
      </div>
      
      <button type="submit" class="btn btn-dark w-100" [disabled]="form.invalid">Crear Evento</button>
    </form>
  </div>
</div>
